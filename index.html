<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Pacifico&display=swap" rel="stylesheet">
    <title>Яблочный Пресет</title>
    <style>
        /* ===================================== */
        /* БАЗОВЫЕ НАСТРОЙКИ */
        /* ===================================== */
        :root {
            --color-primary: #99ff99;
            --color-secondary: #ff9a9e;
            --color-bg: #050505;
            --color-glass: rgba(20, 20, 20, 0.85);
            --color-glass-border: rgba(255, 255, 255, 0.08);
            --font-decorative: 'Pacifico', cursive; 
            --font-readable: 'Montserrat', sans-serif;
        }

        body {
            font-family: var(--font-readable);
            background-color: var(--color-bg);
            color: #E0E0E0;
            margin: 0; padding: 0;
            line-height: 1.6; /* Комфортный интерлиньяж */
            text-align: center;
            overflow-x: hidden;
            font-size: 16px; /* Оптимальный размер для чтения */
        }

        /* Тонкий скроллбар */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--color-bg); }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }

        /* ФОНЫ */
        #bg-canvas, #spotlight, .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;
        }
        .noise-overlay { z-index: -1; opacity: 0.03; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); }
        #spotlight { z-index: -2; background: radial-gradient(800px circle at var(--x, 50%) var(--y, 50%), rgba(153, 255, 153, 0.05), transparent 45%); }
        #bg-canvas { z-index: -3; }

        /* ===================================== */
        /* ШАПКА */
        /* ===================================== */
        .header-banner {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            background-image: url('dark_header_new.jpg'); 
            background-size: cover; background-position: center;
            height: 380px; /* Средняя высота */
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 50% 100%, 0 90%);
            position: relative; overflow: hidden;
            margin-bottom: 0;
        }

        .header-banner::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); z-index: 1;
        }
        
        .header-content { z-index: 2; position: relative; padding: 0 20px; }
        
        .header-banner h1 { 
            font-family: var(--font-decorative);
            font-weight: 400;
            font-size: clamp(2.2rem, 5vw, 3.5rem); /* Увеличили заголовки */
            margin: 0; line-height: 1.2; color: #fff;
            display: flex; align-items: center; justify-content: center; gap: 12px;
            text-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        .header-banner p { 
            font-size: clamp(1rem, 2vw, 1.2rem); 
            margin-top: 12px; font-weight: 600; letter-spacing: 1.5px;
            text-transform: uppercase;
            background: linear-gradient(90deg, #fff, var(--color-primary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        
        .apple-icon { height: clamp(45px, 7vw, 70px); filter: drop-shadow(0 0 15px rgba(153, 255, 153, 0.3)); }

        /* ===================================== */
        /* ОСНОВНОЙ КОНТЕЙНЕР */
        /* ===================================== */
        .main-container {
            max-width: 1050px;
            margin: -50px auto 40px; 
            padding: 0 20px;
            display: flex; flex-direction: column; align-items: center;
            position: relative; z-index: 10;
        }

        @media (min-width: 900px) {
            .main-container {
                flex-direction: row; align-items: flex-start; gap: 35px; padding: 0 35px;
            }
            .tab-buttons {
                min-width: 250px; position: sticky; top: 30px; z-index: 10;
            }
            .tab-content-wrapper { flex-grow: 1; width: 100%; }
        }

        /* ===================================== */
        /* МЕНЮ (ТАБЫ) */
        /* ===================================== */
        .tab-buttons { 
            display: flex; flex-direction: column; gap: 10px; width: 100%; margin-bottom: 25px;
        }

        /* Сетка для мобилок */
        @media (max-width: 899px) {
            .tab-buttons {
                display: grid; grid-template-columns: 1fr 1fr;
                gap: 10px;
            }
            .tab-button { 
                justify-content: center; 
                padding: 16px 10px !important; /* Удобный размер для пальца */
                text-align: center; 
            }
            .tab-button img { margin-right: 8px !important; height: 24px !important; }
            .tab-button.active::before { display: none; }
            .tab-button.active { background: rgba(153, 255, 153, 0.1); border-color: var(--color-primary); }
        }

        .tab-button {
            background-color: var(--color-glass);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            color: #bbb;
            padding: 16px 22px; 
            border: 1px solid var(--color-glass-border);
            border-radius: 14px; cursor: pointer;
            font-family: var(--font-decorative);
            font-size: 1.25em; /* Чуть крупнее */
            transition: all 0.3s;
            display: flex; align-items: center; justify-content: flex-start; 
            position: relative; overflow: hidden;
        }

        .tab-button:hover { background-color: rgba(40, 40, 40, 0.9); color: #fff; transform: translateY(-2px); }
        
        .tab-button.active {
            color: var(--color-primary); border-color: var(--color-primary);
            box-shadow: 0 0 15px rgba(153, 255, 153, 0.15);
        }
        
        @media (min-width: 900px) {
            .tab-button.active { padding-left: 32px; background: linear-gradient(90deg, rgba(153, 255, 153, 0.1), transparent); }
            .tab-button.active::before {
                content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 5px;
                background: var(--color-primary);
            }
        }
        
        .tab-button img { height: 26px; margin-right: 14px; transition: transform 0.3s; }
        .tab-button:hover img { transform: rotate(-10deg); }

        /* ===================================== */
        /* КОНТЕНТ */
        /* ===================================== */
        .tab-content {
            background-color: var(--color-glass);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            padding: 40px; 
            border-radius: 24px;
            border: 1px solid var(--color-glass-border);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
            text-align: center;
            display: none; width: 100%; box-sizing: border-box;
            animation: fadeIn 0.4s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        .tab-content.active { display: block; }

        .tab-content h2 {
            font-family: var(--font-decorative); font-weight: 400;
            font-size: 2.4em; /* Оптимальный размер */
            background: linear-gradient(45deg, var(--color-secondary), var(--color-primary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin: 0 0 25px 0;
            display: flex; align-items: center; justify-content: center;
        }
        
        .tab-content h2 img { height: 42px; margin-right: 14px; -webkit-text-fill-color: initial; }

        .tab-content p { font-size: 1.05em; margin-bottom: 30px; color: #ccc; font-weight: 300; }

        /* ===================================== */
        /* КНОПКИ ДЕЙСТВИЙ */
        /* ===================================== */
        .download-button {
            position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center; 
            width: 100%; max-width: 380px; 
            margin: 30px auto;
            box-sizing: border-box; /* Важно для центрирования */
            
            background: linear-gradient(270deg, #ff9a9e, #a8e6cf, #99ff99, #ff9a9e);
            background-size: 300% 300%; animation: bg-shift 8s ease infinite;
            color: #121212; 
            font-weight: 800; font-size: 1.2em; /* Читабельный шрифт */
            text-transform: uppercase; letter-spacing: 1.2px;
            padding: 20px 25px; 
            text-decoration: none; border-radius: 16px; 
            box-shadow: 0 10px 30px rgba(153, 255, 153, 0.3);
            transition: transform 0.2s;
        }
        .download-button:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(168, 230, 207, 0.6); color: #000; }
        .download-button img { height: 28px; margin-right: 12px; } 

        .link-button {
            display: flex; align-items: center; padding: 18px 24px; 
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #ddd; text-decoration: none; border-radius: 14px; 
            font-weight: 600; font-size: 1em;
            transition: all 0.3s; width: 100%; max-width: 380px; 
            margin: 0 auto; box-sizing: border-box;
        }
        .link-button:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--color-primary); transform: translateX(5px); }
        .link-button img { height: 26px; margin-right: 14px; }

        .no-bullets { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px; }

        /* ===================================== */
        /* МЕЛКИЕ ЭЛЕМЕНТЫ */
        /* ===================================== */
        .typing-cursor::after { content: '|'; animation: blink 1s step-end infinite; color: var(--color-primary); margin-left: 3px; }
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes bg-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .ripple { position: absolute; border-radius: 50%; transform: scale(0); animation: ripple 0.6s linear; background-color: rgba(255,255,255,0.3); pointer-events: none; }
        @keyframes ripple { to { transform: scale(4); opacity: 0; } }

        /* ===================================== */
        /* МОБИЛЬНАЯ АДАПТАЦИЯ (Твики) */
        /* ===================================== */
        @media (max-width: 600px) {
            .header-banner { height: 290px; } /* Чуть выше чем прошлый раз */
            .header-banner h1 { font-size: 2.2rem; }
            .tab-content { padding: 30px 20px; border-radius: 20px; }
            .tab-content h2 { font-size: 2em; }
            .download-button { width: 100%; font-size: 1.1em; padding: 18px; }
            .link-button { padding: 16px; }
            .apple-icon { height: 55px; }
        }

        /* Toast notifications */
        #toast-container { position: fixed; bottom: 25px; right: 25px; z-index: 9999; display: flex; flex-direction: column; gap: 12px; }
        .toast {
            background: rgba(15, 15, 15, 0.95); border: 1px solid #333; border-left: 3px solid var(--color-primary);
            padding: 14px 20px; border-radius: 10px; font-size: 0.95em; display: flex; align-items: center;
            transform: translateX(120%); transition: transform 0.3s ease; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }
        .toast.show { transform: translateX(0); }
        .toast img { width: 22px; height: 22px; margin-right: 14px; }
        .toast-title { font-weight: 700; color: var(--color-primary); font-size: 1.05em; margin-bottom: 2px;}
        
        footer { margin-top: 60px; color: #666; font-size: 0.9em; padding-bottom: 25px; }
    </style>
</head>
<body>
    
    <div class="noise-overlay"></div>
    <div id="spotlight"></div>
    <canvas id="bg-canvas"></canvas>
    <div id="toast-container"></div>

    <div class="header-banner" id="headerBanner">
        <div class="header-content" id="headerContent">
            <h1>
                <img src="apple_icon.png" alt="Apple" class="apple-icon" onerror="this.style.display='none'"> 
                <span id="typewriter-h1"></span><span class="typing-cursor" id="cursor-h1"></span>
            </h1>
            <p>
                <span id="typewriter-p"></span><span class="typing-cursor" style="display:none" id="cursor-p"></span>
            </p>
        </div>
    </div>
    
    <div class="main-container">
        <div class="tab-buttons">
            <button class="tab-button active ripple-btn" onclick="openTab(event, 'Description')">
                <img src="icon_clip_red.png" alt="Info" onerror="this.src='https://cdn-icons-png.flaticon.com/512/10692/10692823.png'">
                О Пресете
            </button>
            <button class="tab-button ripple-btn" onclick="openTab(event, 'Download')">
                <img src="icon_book_open.png" alt="DL" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2983/2983816.png'">
                Скачивание
            </button>
            <button class="tab-button ripple-btn" onclick="openTab(event, 'Guides')">
                <img src="icon_book_closed_red.png" alt="Guide" onerror="this.src='https://cdn-icons-png.flaticon.com/512/10743/10743169.png'">
                Гайды
            </button>
            <button class="tab-button ripple-btn" onclick="openTab(event, 'Contacts')">
                <img src="icon_bag_green.png" alt="Ctc" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3059/3059446.png'">
                Контакты
            </button>
        </div>

        <div class="tab-content-wrapper">
            <div id="Description" class="tab-content active">
                <h2>
                    <img src="icon_clip.png" alt="" onerror="this.style.display='none'"> 
                    О Пресете
                </h2>
                <p style="text-align: left; padding: 0 5px; line-height: 1.8;">
                    Модульный пресет с большим количеством тоглов. Основан на ядре Селии. Оптимизирован для <b style="color:white">максимального погружения</b>.
                    <br><br>
                    <span style="color: var(--color-primary); font-weight: 700; text-transform: uppercase; font-size: 0.95em; border-bottom: 2px solid var(--color-secondary); padding-bottom: 3px;">Поддерживаемые модели:</span><br>
                    <span style="display: block; margin-top: 12px; font-size: 0.95em; opacity: 0.95;">
                        ✨ Gemini 2.5/3.0 &nbsp;|&nbsp; ✨ Claude Opus/Sonnet 4.5
                    </span>
                </p>
            </div>

            <div id="Download" class="tab-content">
                <h2>
                    <img src="icon_book_open_red.png" alt="" onerror="this.style.display='none'">
                    Файлы
                </h2>
                <p>Пресет и файлы RegEx для корректной работы.</p>
                
                <a class="download-button ripple-btn" href="%D0%AF%D0%B1%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B9%20V1.581.json" download onclick="showToast('Загрузка', 'Файл V1.581 скачивается...')">
                    <img src="icon_button_green.png" alt="" onerror="this.style.display='none'">
                    СКАЧАТЬ V1.581
                </a>
                
                <h3 style="color: #666; text-transform: uppercase; font-size: 0.85em; letter-spacing: 1.5px; margin-top: 35px; margin-bottom: 20px;">Файлы RegEx</h3>
                <div class="no-bullets"> 
                    <a class="link-button ripple-btn" href="regex-renette_html_depth_5_vanquisher__.json" download onclick="showToast('RegEx', 'HTML Depth 5 загружается...')">
                        <img src="leaf_red.png" alt="" onerror="this.style.display='none'">
                        <span>Renette HTML Depth 5</span>
                    </a> 
                    <a class="link-button ripple-btn" href="regex-renette_hidethink.json" download onclick="showToast('RegEx', 'Hide Think загружается...')">
                        <img src="leaf_green.png" alt="" onerror="this.style.display='none'">
                        <span><b style="color:var(--color-primary)">Опционально:</b> Renette Hide Think</span>
                    </a>
                </div>
            </div>
            
            <div id="Guides" class="tab-content">
                <h2>
                    <img src="icon_book_closed.png" alt="" onerror="this.style.display='none'"> 
                    Инструкции
                </h2>
                <p>Ознакомьтесь с гайдом перед использованием.</p>
                <div class="no-bullets"> 
                    <a class="link-button ripple-btn" href="https://sites.google.com/view/testijhfrr" target="_blank">
                        <img src="sheets.png" alt="" onerror="this.style.display='none'"> 
                        Гайд по установке
                    </a>
                </div>
            </div>

            <div id="Contacts" class="tab-content">
                <h2>
                    <img src="icon_bag.png" alt="" onerror="this.style.display='none'"> 
                    Связь
                </h2>
                <p>Следите за обновлениями.</p>
                <div class="no-bullets"> 
                    <a class="link-button ripple-btn" href="https://t.me/YablochnyAI" target="_blank">
                        <img src="icon_tg_green.png" alt="" onerror="this.style.display='none'">
                        Телеграм Канал
                    </a>
                    <a class="link-button ripple-btn" href="https://t.me/YablochnyChat" target="_blank">
                        <img src="icon_tg.png" alt="" onerror="this.style.display='none'">
                        Чат Поддержки
                    </a>
                </div>
            </div>
        </div>
    </div>

    <footer>&copy; 2025 Яблочный Пресет</footer>

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) { tabcontent[i].style.display = "none"; tabcontent[i].classList.remove('active'); }
            var tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) { tablinks[i].classList.remove("active"); }
            var selectedTab = document.getElementById(tabName);
            selectedTab.style.display = "block";
            setTimeout(() => { selectedTab.classList.add('active'); }, 10);
            evt.currentTarget.classList.add("active");
        }
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('Description').style.display = 'block';
            setTimeout(() => document.getElementById('Description').classList.add('active'), 10);
            startTypewriter();
        });

        const canvas = document.getElementById('bg-canvas'), ctx = canvas.getContext('2d');
        let width, height, particles = [];
        function resize() { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();
        class Particle {
            constructor() { this.reset(); }
            reset() { this.x = Math.random() * width; this.y = Math.random() * height; this.size = Math.random() * 2.2; this.speed = Math.random() * 0.3 + 0.1; this.opacity = Math.random() * 0.5; }
            update() { this.y -= this.speed; if(this.y < 0) this.reset(); }
            draw() { ctx.fillStyle = `rgba(153, 255, 153, ${this.opacity})`; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill(); }
        }
        for(let i=0; i<60; i++) particles.push(new Particle());
        function animateBg() { ctx.clearRect(0,0,width,height); particles.forEach(p=>{p.update();p.draw()}); requestAnimationFrame(animateBg); }
        animateBg();

        const header = document.getElementById('headerBanner'), content = document.getElementById('headerContent');
        if(window.innerWidth > 900) {
            header.addEventListener('mousemove', (e) => {
                const r = header.getBoundingClientRect();
                content.style.transform = `perspective(800px) rotateX(${((e.clientY-r.top)-r.height/2)/-12}deg) rotateY(${((e.clientX-r.left)-r.width/2)/18}deg)`;
            });
            header.addEventListener('mouseleave', () => content.style.transform = 'none');
        }

        document.querySelectorAll('.ripple-btn').forEach(b => b.addEventListener('click', function(e) {
            let r = this.getBoundingClientRect(), s = document.createElement('span');
            s.className = 'ripple'; s.style.left = (e.clientX-r.left)+'px'; s.style.top = (e.clientY-r.top)+'px';
            this.appendChild(s); setTimeout(() => s.remove(), 600);
        }));

        function typeWriter(id, txt, spd, cb) {
            let i=0, e=document.getElementById(id); e.innerHTML="";
            function t() { if(i<txt.length) { e.innerHTML+=txt.charAt(i++); setTimeout(t, spd); } else if(cb) cb(); } t();
        }
        function startTypewriter() {
            typeWriter("typewriter-h1", "Яблочный Пресет", 50, () => {
                document.getElementById('cursor-h1').style.display='none';
                document.getElementById('cursor-p').style.display='inline-block';
                typeWriter("typewriter-p", "by kykaaj | V 1.581", 30);
            });
        }

        function showToast(title, msg) {
            const c = document.getElementById('toast-container'), t = document.createElement('div');
            t.className = 'toast'; t.innerHTML = `<img src="icon_clip.png" onerror="this.style.display='none'"><div class="toast-content"><div class="toast-title">${title}</div><div>${msg}</div></div>`;
            c.appendChild(t); setTimeout(() => t.classList.add('show'), 10);
            setTimeout(() => { t.classList.remove('show'); setTimeout(() => t.remove(), 300); }, 3000);
        }
    </script>
</body>
</html>
