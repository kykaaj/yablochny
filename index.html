<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renette: System Override | –Ø–±–ª–æ—á–Ω—ã–π –ü—Ä–µ—Å–µ—Ç</title>
    <meta name="google-site-verification" content="L1aS8txxzlMjDV_Efl0Oi1WDR0J7_DCdyazGjG1zVPk" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            /* Palette */
            --bg-dark: #161618;
            --bg-panel: #1e1e24;
            --bg-panel-light: #25252d;

            --mint: #5fffa0;
            --mint-dim: #5fffa040;
            --red: #ff4757;
            --lilac: #d6a2e8;
            --lilac-glow: #d6a2e860;

            --text-main: #ececf1;
            --text-muted: #8b8b99;

            --border: rgba(255, 255, 255, 0.08);
            --radius: 12px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- BACKGROUND MESH --- */
        #bg-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1e1e24 0%, #111113 100%);
        }
        .grid-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image:
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: -1;
        }

        /* --- UI UTILS --- */
        .mono { font-family: 'JetBrains Mono', monospace; }
        .mint { color: var(--mint); }
        .red { color: var(--red); }
        .lilac { color: var(--lilac); }

        /* --- HEADER / HUD --- */
        .hud-header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(22, 22, 24, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            font-weight: 800;
            font-size: 1.5rem;
            letter-spacing: -1px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-shadow: 0 0 15px var(--lilac-glow);
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            color: var(--text-muted);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: 0.3s;
            position: relative;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--mint);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -24px; left: 0; width: 100%; height: 2px;
            background: var(--mint);
            box-shadow: 0 0 10px var(--mint);
        }

        /* --- HERO SPLIT --- */
        .hero-section {
            padding: 80px 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            max-width: 1600px;
            margin: 0 auto;
        }

        .hero-text h1 {
            font-size: 4.5rem;
            line-height: 0.9;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #fff 0%, var(--lilac) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-stats {
            display: flex;
            gap: 30px;
            margin-top: 40px;
        }

        .stat-box {
            border-left: 2px solid var(--red);
            padding-left: 15px;
        }
        .stat-val { font-size: 1.5rem; font-weight: 800; display: block; }
        .stat-lbl { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; }

        .hero-visual {
            position: relative;
            height: 400px;
            border: 1px solid var(--border);
            background: rgba(255,255,255,0.02);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .floating-renette {
            width: 80%;
            height: auto;
            filter: drop-shadow(0 0 20px var(--mint-dim));
            animation: float 6s ease-in-out infinite;
        }

        /* --- CONFIGURATOR (MAIN) --- */
        .configurator {
            max-width: 1600px;
            margin: 0 auto 100px;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 40px;
        }

        /* Tabs Sidebar */
        .tabs-sidebar {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .tab-btn {
            padding: 18px 25px;
            background: var(--bg-panel);
            border: 1px solid var(--border);
            color: var(--text-muted);
            text-align: left;
            border-radius: var(--radius);
            cursor: pointer;
            transition: 0.2s;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .tab-btn:hover {
            background: var(--bg-panel-light);
            color: var(--text-main);
        }

        .tab-btn.active {
            background: var(--bg-panel-light);
            border-color: var(--mint);
            color: var(--mint);
            box-shadow: 0 0 15px rgba(95, 255, 160, 0.1);
        }

        .tab-btn i { font-size: 1.1em; }

        /* Content Area */
        .config-content {
            background: var(--bg-panel);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            min-height: 600px;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .tab-pane {
            display: none;
            animation: fadeIn 0.4s ease;
        }
        .tab-pane.active { display: block; }

        .section-title {
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-desc {
            color: var(--text-muted);
            margin-bottom: 40px;
            font-size: 0.95rem;
            max-width: 600px;
        }

        /* --- BLOCKS & GROUPS --- */
        .options-group {
            margin-bottom: 40px;
            background: rgba(0,0,0,0.2);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid var(--border);
        }

        .group-header {
            font-family: 'JetBrains Mono', monospace;
            color: var(--lilac);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            padding-bottom: 10px;
        }

        /* Cards for Selection */
        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .option-card {
            background: var(--bg-panel-light);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: 0.2s;
            position: relative;
            user-select: none;
        }

        .option-card:hover { border-color: var(--text-muted); }

        /* Styles for checked state handled via JS classes */
        .option-card.checked {
            border-color: var(--mint);
            background: rgba(95, 255, 160, 0.05);
        }

        .option-card.checked::after {
            content: '‚úì';
            position: absolute;
            top: 10px; right: 10px;
            color: var(--mint);
            font-weight: bold;
        }

        .opt-title { font-weight: 700; margin-bottom: 5px; font-size: 0.9rem; }
        .opt-desc { font-size: 0.8rem; color: var(--text-muted); line-height: 1.4; }

        .info-btn {
            position: absolute;
            bottom: 10px; right: 10px;
            color: var(--text-muted);
            font-size: 0.8rem;
            cursor: pointer;
            z-index: 5;
        }
        .info-btn:hover { color: var(--lilac); }

        /* --- CLIPBOARD STICKY FOOTER --- */
        .export-bar {
            position: sticky;
            bottom: 20px;
            margin: 0 40px;
            background: rgba(214, 162, 232, 0.1); /* Lilac tint */
            backdrop-filter: blur(15px);
            border: 1px solid var(--lilac);
            padding: 15px 30px;
            border-radius: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            z-index: 900;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 30px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85rem;
            transition: 0.3s;
        }

        .btn-mint {
            background: var(--mint);
            color: #000;
            box-shadow: 0 0 20px var(--mint-dim);
        }
        .btn-mint:hover { transform: translateY(-2px); box-shadow: 0 0 30px var(--mint-dim); }

        /* --- MODAL --- */
        .modal-wrap {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0; pointer-events: none;
            transition: 0.3s;
        }
        .modal-wrap.active { opacity: 1; pointer-events: all; }

        .modal-box {
            width: 800px;
            max-width: 90%;
            max-height: 85vh;
            background: var(--bg-panel);
            border: 1px solid var(--lilac);
            border-radius: 16px;
            overflow-y: auto;
            box-shadow: 0 0 50px rgba(214, 162, 232, 0.2);
        }

        .modal-img {
            width: 100%; height: 300px; object-fit: cover;
            border-bottom: 1px solid var(--border);
        }

        .modal-content { padding: 30px; }

        /* Animations */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 1024px) {
            .hero-section { grid-template-columns: 1fr; text-align: center; }
            .hero-stats { justify-content: center; }
            .configurator { grid-template-columns: 1fr; }
            .tabs-sidebar { flex-direction: row; overflow-x: auto; padding-bottom: 10px; }
            .tab-btn { min-width: 150px; }
        }
    </style>
</head>
<body>

    <div class="grid-overlay"></div>
    <canvas id="bg-canvas"></canvas>

    <!-- Header -->
    <header class="hud-header">
        <div class="brand mint">
            <i class="fa-solid fa-apple-whole"></i> RENETTE_OS
        </div>
        <nav class="nav-links">
            <a href="#" class="nav-link active">CONFIGURATOR</a>
            <a href="#" class="nav-link">GUIDES</a>
            <a href="https://github.com/YOUR_REPO" target="_blank" class="nav-link"><i class="fa-brands fa-github"></i> REPO</a>
        </nav>
    </header>

    <!-- Hero -->
    <section class="hero-section">
        <div class="hero-text">
            <div class="mono lilac" style="margin-bottom: 10px;">:: SYSTEM V.2.0 ::</div>
            <h1>DIGITAL<br>ORCHARD</h1>
            <p style="color: var(--text-muted); font-size: 1.1rem; line-height: 1.6;">
                –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ—Å–µ—Ç–∞ "–Ø–±–ª–æ—á–Ω—ã–π".<br>
                –ö–æ–º–±–∏–Ω–∏—Ä—É–π –º–æ–¥—É–ª–∏, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–æ–∑–¥–∞–≤–∞–π —Å–≤–æ—é –∏–¥–µ–∞–ª—å–Ω—É—é —Å–∏–º—É–ª—è—Ü–∏—é.
            </p>
            <div class="hero-stats">
                <div class="stat-box">
                    <span class="stat-val mint">20+</span>
                    <span class="stat-lbl">–ú–æ–¥—É–ª–µ–π</span>
                </div>
                <div class="stat-box">
                    <span class="stat-val lilac">Liu Z.</span>
                    <span class="stat-lbl">–°—Ç–∏–ª—å</span>
                </div>
                <div class="stat-box">
                    <span class="stat-val red">R-18</span>
                    <span class="stat-lbl">Uncensored</span>
                </div>
            </div>
        </div>
        <div class="hero-visual">
            <!-- PLACEHOLDER FOR MASCOT -->
            <img src="https://files.catbox.moe/placeholder_renette.png" alt="Renette Digital Spirit" class="floating-renette">
            <div style="position: absolute; bottom: 20px; font-size: 0.8rem; color: #fff; background: rgba(0,0,0,0.5); padding: 5px 10px; border-radius: 4px;">
                Mascot: Renette (Digital Spirit)
            </div>
        </div>
    </section>

    <!-- Configurator -->
    <main class="configurator">

        <!-- Sidebar Navigation -->
        <aside class="tabs-sidebar" id="tabsNav">
            <button class="tab-btn active" onclick="switchTab('ooc')">
                <span>1. OOC & –õ–∏—á–Ω–æ—Å—Ç—å</span> <i class="fa-solid fa-user-astronaut"></i>
            </button>
            <button class="tab-btn" onclick="switchTab('basic')">
                <span>2. –û—Å–Ω–æ–≤–Ω–æ–µ</span> <i class="fa-solid fa-layer-group"></i>
            </button>
            <button class="tab-btn" onclick="switchTab('rating')">
                <span>3. –†–µ–π—Ç–∏–Ω–≥</span> <i class="fa-solid fa-triangle-exclamation"></i>
            </button>
            <button class="tab-btn" onclick="switchTab('addons')">
                <span>4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</span> <i class="fa-solid fa-microchip"></i>
            </button>
            <button class="tab-btn" onclick="switchTab('think')">
                <span>5. –î—É–º–∞–ª–∫–∞</span> <i class="fa-solid fa-brain"></i>
            </button>
            <button class="tab-btn" onclick="switchTab('prefill')">
                <span>6. Prefill</span> <i class="fa-solid fa-quote-left"></i>
            </button>
        </aside>

        <!-- Content Area -->
        <div class="config-content" id="tabContent">
            <!-- Content injects here via JS -->
        </div>

    </main>

    <!-- Export Bar -->
    <div class="export-bar">
        <div class="mono" style="font-size: 0.9rem;">
            <span class="text-muted">BUFFER STATUS:</span>
            <span class="mint" id="selectedCount">0 modules ready</span>
        </div>
        <button class="btn btn-mint" onclick="copyAll()">
            <i class="fa-solid fa-download"></i> –°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ü–†–ï–°–ï–¢
        </button>
    </div>

    <!-- Modal -->
    <div class="modal-wrap" id="modal" onclick="closeModal(event)">
        <div class="modal-box">
            <img src="" id="modalImg" class="modal-img">
            <div class="modal-content">
                <h2 id="modalTitle" class="mint mb-2">Title</h2>
                <p id="modalDesc" class="text-muted mb-4">Description</p>
                <div class="mono" style="background: #111; padding: 15px; border-radius: 8px; font-size: 0.8rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                    CONTENT PREVIEW: <span id="modalText" style="color: var(--lilac);">...</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA CONFIGURATION ---
        // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ—á–Ω–æ –ø–æ —Ç–≤–æ–µ–º—É –¢–ó
        const presetData = {
            ooc: {
                title: "OOC –∏ –õ–∏—á–Ω–æ—Å—Ç—å",
                desc: "–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –†–µ–Ω–µ—Ç—Ç –≤–Ω–µ —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä—ã.",
                groups: [
                    {
                        title: "–†–µ–Ω–µ—Ç—Ç (OOC)",
                        type: "static", // –ù–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –ø—Ä–æ—Å—Ç–æ –≤–∫–ª—é—á–∞–µ–º
                        items: [{ id: "renette_base", name: "Renette Personality", desc: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π OOC –º–æ–¥—É–ª—å.", content: "[placeholder] OOC text" }]
                    }
                ]
            },
            basic: {
                title: "–û—Å–Ω–æ–≤–Ω–æ–µ (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)",
                desc: "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏. –í—ã–±–µ—Ä–∏—Ç–µ –û–î–ò–ù –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.",
                groups: [
                    {
                        title: "üåæ –†–µ–∂–∏–º –ü–∏—Å—å–º–∞",
                        type: "radio", // –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω
                        name: "writing_mode",
                        items: [
                            { id: "wm_1", name: "–í–∞—Ä–∏–∞–Ω—Ç 1 (–°—Ç–∞–Ω–¥–∞—Ä—Ç)", desc: "–û–ø–∏—Å–∞–Ω–∏–µ 1", content: "[placeholder] WM1", checked: true },
                            { id: "wm_2", name: "–í–∞—Ä–∏–∞–Ω—Ç 2", desc: "–û–ø–∏—Å–∞–Ω–∏–µ 2", content: "[placeholder] WM2" },
                            { id: "wm_3", name: "–í–∞—Ä–∏–∞–Ω—Ç 3", desc: "–û–ø–∏—Å–∞–Ω–∏–µ 3", content: "[placeholder] WM3" }
                        ]
                    },
                    {
                        title: "‚ùå –ë–∞–Ω—ã (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)",
                        type: "radio",
                        name: "bans",
                        items: [
                            { id: "ban_1", name: "–°—Ç—Ä–æ–≥–∏–µ –±–∞–Ω—ã", desc: "–ú–µ–Ω—å—à–µ –º—É—Å–æ—Ä–∞", content: "[placeholder] Ban1", checked: true },
                            { id: "ban_2", name: "–ú—è–≥–∫–∏–µ –±–∞–Ω—ã", desc: "–ë–æ–ª—å—à–µ —Å–≤–æ–±–æ–¥—ã", content: "[placeholder] Ban2" },
                            { id: "ban_3", name: "–ë–µ–∑ –±–∞–Ω–æ–≤", desc: "–•–∞—Ä–¥–∫–æ—Ä", content: "[placeholder] Ban3" }
                        ]
                    },
                    {
                        title: "üåê –Ø–∑—ã–∫",
                        type: "radio",
                        name: "lang",
                        items: [
                            { id: "lang_ru", name: "–†—É—Å—Å–∫–∏–π", desc: "–¢–æ–ª—å–∫–æ RU", content: "[placeholder] RU", checked: true },
                            { id: "lang_en", name: "English", desc: "Only EN", content: "[placeholder] EN" },
                            { id: "lang_mix", name: "Mixed", desc: "–°–º–µ—à–∞–Ω–Ω—ã–π", content: "[placeholder] MIX" }
                        ]
                    },
                    {
                        title: "üìì –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –°—Ç–∏–ª—å",
                        type: "radio",
                        name: "style",
                        items: [
                            { id: "st_1", name: "Liu Zhenyun", desc: "–ê–±—Å—É—Ä–¥ –∏ —Ü–∏–∫–ª–∏—á–Ω–æ—Å—Ç—å", content: "[placeholder] Liu", checked: true },
                            { id: "st_2", name: "Modern Pop", desc: "–õ–µ–≥–∫–æ–µ —á—Ç–∏–≤–æ", content: "[placeholder] Pop" },
                            { id: "st_3", name: "Classic", desc: "–¢–æ–ª—Å—Ç–æ–π —Å—Ç–∞–π–ª", content: "[placeholder] Classic" },
                            { id: "st_4", name: "Cyberpunk", desc: "–¢–µ—Ö–Ω–æ–≥–µ–Ω–Ω—ã–π", content: "[placeholder] Cyber" },
                            { id: "st_5", name: "Horror", desc: "–ú—Ä–∞—á–Ω—ã–π", content: "[placeholder] Horror" },
                            { id: "st_6", name: "Romance", desc: "–í–∞–Ω–∏–ª—å–Ω—ã–π", content: "[placeholder] Romance" }
                        ]
                    },
                    {
                        title: "üå± –¢–µ–º–ø –û—Ç–Ω–æ—à–µ–Ω–∏–π",
                        type: "radio",
                        name: "pacing",
                        items: [
                            { id: "pace_slow", name: "Slow Burn", desc: "–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ", content: "[placeholder] Slow", checked: true },
                            { id: "pace_fast", name: "Fast Paced", desc: "–ë—ã—Å—Ç—Ä–æ–µ —Å–±–ª–∏–∂–µ–Ω–∏–µ", content: "[placeholder] Fast" }
                        ]
                    },
                    {
                        title: "üìè –î–ª–∏–Ω–∞ –û—Ç–≤–µ—Ç–∞",
                        type: "radio",
                        name: "len",
                        items: [
                            { id: "len_1", name: "Short", desc: "–ö–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã", content: "[placeholder] S" },
                            { id: "len_2", name: "Medium", desc: "–°—Ä–µ–¥–Ω–∏–µ", content: "[placeholder] M", checked: true },
                            { id: "len_3", name: "Long", desc: "–î–ª–∏–Ω–Ω—ã–µ", content: "[placeholder] L" },
                            { id: "len_4", name: "Novella", desc: "–ù–æ–≤–µ–ª–ª–∞", content: "[placeholder] XL" },
                            { id: "len_5", name: "Infinite", desc: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ", content: "[placeholder] XXL" }
                        ]
                    }
                ]
            },
            rating: {
                title: "–†–µ–π—Ç–∏–Ω–≥",
                desc: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ 18+.",
                groups: [
                    {
                        title: "NSFW",
                        type: "static",
                        items: [{ id: "nsfw_main", name: "NSFW Rules", desc: "–ë–∞–∑–æ–≤—ã–π NSFW –±–ª–æ–∫.", content: "[placeholder] NSFW" }]
                    }
                ]
            },
            addons: {
                title: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)",
                desc: "–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏.",
                groups: [
                    {
                        title: "üßÉ HTML Engine",
                        type: "radio",
                        name: "html_engine",
                        items: [
                            { id: "html_v1", name: "V1 Standard", desc: "–°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è", content: "[placeholder] HTML1", checked: true },
                            { id: "html_v2", name: "V2 Experimental", desc: "–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏", content: "[placeholder] HTML2" }
                        ]
                    },
                    {
                        title: "‚úéüß∫ –®—Ç—É–∫–∏ (–®–∞–±–ª–æ–Ω) - –û–±—â–µ–µ",
                        type: "checkbox", // –ú—É–ª—å—Ç–∏-–≤—ã–±–æ—Ä (8 —à—Ç)
                        items: Array.from({length: 8}, (_, i) => ({
                            id: `stuff_gen_${i}`, name: `General Item ${i+1}`, desc: "–û–±—ã—á–Ω–∞—è —à—Ç—É–∫–∞", content: `[placeholder] Stuff ${i+1}`
                        }))
                    },
                    {
                        title: "‚Äî –ò–Ω—Ñ–æ–±–ª–æ–∫–∏ (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "infoblocks",
                        items: Array.from({length: 5}, (_, i) => ({
                            id: `info_${i}`, name: `Infoblock ${i+1}`, desc: "–°—Ç–∏–ª—å –∏–Ω—Ñ–æ–±–ª–æ–∫–∞", content: `[placeholder] Info ${i+1}`
                        }))
                    },
                    {
                        title: "‚Äî –†–µ–∂–∏–º –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "settings_mode",
                        items: [
                            { id: "set_1", name: "Mode A", desc: "...", content: "[placeholder] SetA" },
                            { id: "set_2", name: "Mode B", desc: "...", content: "[placeholder] SetB" }
                        ]
                    },
                    {
                        title: "‚Äî CYOA (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "cyoa",
                        items: [
                            { id: "cyoa_1", name: "Version 1", desc: "...", content: "[placeholder] CYOA1" },
                            { id: "cyoa_2", name: "Version 2", desc: "...", content: "[placeholder] CYOA2" }
                        ]
                    },
                    {
                        title: "‚Äî –°–∫—Ä—ã—Ç—ã–µ –±–ª–æ–∫–∏ (–ú—É–ª—å—Ç–∏)",
                        type: "checkbox",
                        items: Array.from({length: 4}, (_, i) => ({
                            id: `hidden_${i}`, name: `Hidden Block ${i+1}`, desc: "–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç", content: `[placeholder] Hidden ${i+1}`
                        }))
                    },
                    {
                        title: "‚Äî Fancy UI (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "fancy_ui",
                        items: [
                            { id: "ui_1", name: "UI Style 1", desc: "...", content: "[placeholder] UI1" },
                            { id: "ui_2", name: "UI Style 2", desc: "...", content: "[placeholder] UI2" },
                            { id: "ui_3", name: "UI Style 3", desc: "...", content: "[placeholder] UI3" }
                        ]
                    },
                    {
                        title: "‚Äî –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "comments",
                        items: [
                            { id: "com_1", name: "Style 1", desc: "...", content: "[placeholder] Com1" },
                            { id: "com_2", name: "Style 2", desc: "...", content: "[placeholder] Com2" },
                            { id: "com_3", name: "Style 3", desc: "...", content: "[placeholder] Com3" }
                        ]
                    },
                    {
                        title: "‚Äî –•—Ä–æ–Ω–∏–∫–∏ (–í—ã–±—Ä–∞—Ç—å 1)",
                        type: "radio",
                        name: "chronicles",
                        items: [
                            { id: "chr_1", name: "Chronicle A", desc: "...", content: "[placeholder] ChrA" },
                            { id: "chr_2", name: "Chronicle B", desc: "...", content: "[placeholder] ChrB" }
                        ]
                    },
                    {
                        title: "üåó –¢–µ–º–∞ HTML",
                        type: "radio",
                        name: "theme",
                        items: [
                            { id: "theme_dark", name: "Dark Theme", desc: "–¢–µ–º–Ω–∞—è —Ç–µ–º–∞", content: "[placeholder] Dark", checked: true },
                            { id: "theme_oled", name: "OLED Black", desc: "–ü–æ–ª–Ω–∞—è —á–µ—Ä–Ω–æ—Ç–∞", content: "[placeholder] OLED" }
                        ]
                    }
                ]
            },
            think: {
                title: "–î—É–º–∞–ª–∫–∞ (CoT)",
                desc: "Chain of Thought –ø—Ä–æ–º–ø—Ç—ã.",
                groups: [
                    {
                        title: "Thinking Process",
                        type: "static",
                        items: [{ id: "cot_main", name: "CoT Main", desc: "–õ–æ–≥–∏–∫–∞ –º—ã—à–ª–µ–Ω–∏—è.", content: "[placeholder] CoT" }]
                    }
                ]
            },
            prefill: {
                title: "Prefill",
                desc: "–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∞.",
                groups: [
                    {
                        title: "Standard Prefill",
                        type: "static",
                        items: [{ id: "prefill_main", name: "Prefill", desc: "–°—Ç–∞—Ä—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.", content: "[placeholder] Prefill" }]
                    }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        // –•—Ä–∞–Ω–∏—Ç id –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        const appState = new Set();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (checked: true)
        function initDefaults() {
            Object.values(presetData).forEach(tab => {
                tab.groups.forEach(group => {
                    group.items.forEach(item => {
                        if (item.checked || group.type === 'static') {
                            appState.add(item.id);
                        }
                    });
                });
            });
            updateCounter();
        }

        // --- RENDER LOGIC ---
        function switchTab(tabKey) {
            // Update Sidebar
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // Render Content
            const container = document.getElementById('tabContent');
            const data = presetData[tabKey];

            let html = `
                <div class="tab-pane active">
                    <div class="section-title">
                        <span class="mint"><i class="fa-solid fa-folder-open"></i></span>
                        ${data.title}
                    </div>
                    <p class="section-desc">${data.desc}</p>
            `;

            data.groups.forEach(group => {
                html += `
                    <div class="options-group">
                        <div class="group-header">
                            <span>${group.title}</span>
                            <span style="font-size: 0.7em; opacity: 0.7">[${group.type.toUpperCase()}]</span>
                        </div>
                        <div class="option-grid">
                `;

                group.items.forEach(item => {
                    const isChecked = appState.has(item.id);
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç–æ—á–∫—É
                    html += `
                        <div class="option-card ${isChecked ? 'checked' : ''}"
                             onclick="handleSelection('${group.type}', '${group.name || ''}', '${item.id}', this)">
                            <div class="opt-title">${item.name}</div>
                            <div class="opt-desc">${item.desc}</div>
                            <div class="info-btn" onclick="openModal('${item.id}', event)">
                                <i class="fa-regular fa-eye"></i>
                            </div>
                        </div>
                    `;
                });

                html += `</div></div>`;
            });

            html += `</div>`;
            container.innerHTML = html;
        }

        // --- SELECTION HANDLER ---
        function handleSelection(type, groupName, itemId, cardEl) {
            if (type === 'static') return; // Static –Ω–µ–ª—å–∑—è –æ—Ç–∫–ª—é—á–∏—Ç—å

            if (type === 'radio') {
                // –£–¥–∞–ª–∏—Ç—å –¥—Ä—É–≥–∏–µ –∏–∑ —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã
                const tabData = Object.values(presetData).find(t =>
                    t.groups.some(g => g.name === groupName)
                );
                const group = tabData.groups.find(g => g.name === groupName);

                // –£–±–∏—Ä–∞–µ–º selection –≤–∏–∑—É–∞–ª—å–Ω–æ –∏ –∏–∑ —Å—Ç–µ–π—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –≤ –≥—Ä—É–ø–ø–µ
                group.items.forEach(i => appState.delete(i.id));
                // –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å–±—Ä–æ—Å –≤ —Ç–µ–∫—É—â–µ–º DOM (–µ—Å–ª–∏ –º—ã –Ω–∞ —Ç–æ–π –∂–µ –≤–∫–ª–∞–¥–∫–µ)
                const siblings = cardEl.parentElement.children;
                for (let sib of siblings) sib.classList.remove('checked');

                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π
                appState.add(itemId);
                cardEl.classList.add('checked');
            }
            else if (type === 'checkbox') {
                if (appState.has(itemId)) {
                    appState.delete(itemId);
                    cardEl.classList.remove('checked');
                } else {
                    appState.add(itemId);
                    cardEl.classList.add('checked');
                }
            }
            updateCounter();
        }

        function updateCounter() {
            document.getElementById('selectedCount').innerText = `${appState.size} modules active`;
        }

        // --- COPY FUNCTION ---
        function copyAll() {
            let finalText = "";

            // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –ø–æ—Ä—è–¥–∫—É –≤–∫–ª–∞–¥–æ–∫ —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
            ['ooc', 'basic', 'rating', 'addons', 'think', 'prefill'].forEach(key => {
                presetData[key].groups.forEach(group => {
                    group.items.forEach(item => {
                        if (appState.has(item.id)) {
                            finalText += `=== ${item.name} ===\n${item.content}\n\n`;
                        }
                    });
                });
            });

            navigator.clipboard.writeText(finalText).then(() => {
                const btn = document.querySelector('.btn-mint');
                const old = btn.innerHTML;
                btn.innerHTML = "COPIED!";
                setTimeout(() => btn.innerHTML = old, 1500);
            });
        }

        // --- MODAL ---
        function openModal(id, e) {
            e.stopPropagation();
            const modal = document.getElementById('modal');

            // –ù–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ item –ø–æ id
            let item;
            Object.values(presetData).forEach(tab => {
                tab.groups.forEach(g => {
                    const found = g.items.find(i => i.id === id);
                    if (found) item = found;
                });
            });

            document.getElementById('modalTitle').innerText = item.name;
            document.getElementById('modalDesc').innerText = item.desc;
            document.getElementById('modalText').innerText = item.content;
            document.getElementById('modalImg').src = item.img || `https://via.placeholder.com/800x300/222/555?text=${item.name}`; // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ img –≤ –¥–∞–Ω–Ω—ã–µ

            modal.classList.add('active');
        }

        function closeModal(e) {
            if (e.target.id === 'modal') {
                document.getElementById('modal').classList.remove('active');
            }
        }

        // --- BACKGROUND INTERACTIVITY ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let w, h;
        const mouse = { x: 0, y: 0 };
        const particles = [];

        window.addEventListener('resize', initCanvas);
        window.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });

        function initCanvas() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            createParticles();
        }

        function createParticles() {
            particles.length = 0;
            const count = Math.floor(w * h / 15000);
            for(let i=0; i<count; i++) {
                particles.push({
                    x: Math.random() * w,
                    y: Math.random() * h,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    size: Math.random() * 2
                });
            }
        }

        function animate() {
            ctx.fillStyle = '#161618';
            ctx.fillRect(0,0,w,h); // –û—á–∏—Å—Ç–∫–∞ —Å —Ç—Ä–µ–π–ª–æ–º –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, —Ç—É—Ç –ø–æ–ª–Ω–∞—è

            // –†–∏—Å—É–µ–º —Å–≤—è–∑–∏
            ctx.strokeStyle = 'rgba(95, 255, 160, 0.05)';
            ctx.lineWidth = 1;

            particles.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;

                // –û—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ –æ—Ç –º—ã—à–∏
                const dx = p.x - mouse.x;
                const dy = p.y - mouse.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if(dist < 150) {
                    const angle = Math.atan2(dy, dx);
                    p.x += Math.cos(angle) * 1;
                    p.y += Math.sin(angle) * 1;
                }

                if(p.x < 0) p.x = w; if(p.x > w) p.x = 0;
                if(p.y < 0) p.y = h; if(p.y > h) p.y = 0;

                ctx.fillStyle = '#d6a2e8';
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fill();

                // –°–æ–µ–¥–∏–Ω—è–µ–º –±–ª–∏–∑–∫–∏–µ —Ç–æ—á–∫–∏
                particles.forEach(p2 => {
                    const d = Math.hypot(p.x - p2.x, p.y - p2.y);
                    if (d < 100) {
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                    }
                });
            });

            requestAnimationFrame(animate);
        }

        // Start
        initDefaults();
        initCanvas();
        animate();
        switchTab('ooc'); // Open first tab

    </script>
</body>
</html>
