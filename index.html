<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RENETTE // PROJECT APPLE</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Montserrat:wght@300;500;800&family=Orbitron:wght@500;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --c-bg: #0b0812; /* –ì–ª—É–±–æ–∫–∏–π —Ç–µ–º–Ω—ã–π */
            --c-mint: #00ff9d; /* –ö–∏–±–µ—Ä-–º—è—Ç–∞ */
            --c-red: #ff2a6d; /* –ì–ª–∏—Ç—á-–∫—Ä–∞—Å–Ω—ã–π */
            --c-lilac: #d65db1; /* –ù–µ–æ–Ω–æ–≤–∞—è —Å–∏—Ä–µ–Ω—å */
            --c-glass: rgba(18, 16, 26, 0.7);
            --c-border: rgba(255, 255, 255, 0.1);
            --font-tech: 'Orbitron', sans-serif;
            --font-code: 'JetBrains Mono', monospace;
            --font-body: 'Montserrat', sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            background-color: var(--c-bg);
            color: #eee;
            font-family: var(--font-body);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- CRT OVERLAY EFFECT --- */
        .scanlines {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 999;
            opacity: 0.6;
        }

        /* --- BACKGROUND ANIMATION --- */
        #digital-rain {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
        }

        /* --- LAYOUT --- */
        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 100px; /* Space for nav */
            position: relative;
            z-index: 1;
        }

        /* --- HERO SECTION --- */
        .hero {
            height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
        }

        .glitch-wrapper {
            position: relative;
        }

        h1.glitch {
            font-family: var(--font-tech);
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 900;
            line-height: 1;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 5px;
            margin: 0;
            position: relative;
        }

        h1.glitch::before, h1.glitch::after {
            content: attr(data-text);
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }

        h1.glitch::before {
            left: 2px; text-shadow: -1px 0 var(--c-red); clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim 3s infinite linear alternate-reverse;
        }
        h1.glitch::after {
            left: -2px; text-shadow: -1px 0 var(--c-mint); clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2.5s infinite linear alternate-reverse;
        }

        .hero-subtitle {
            font-family: var(--font-code);
            color: var(--c-mint);
            margin-top: 20px;
            font-size: 1.1rem;
            background: rgba(0, 255, 157, 0.1);
            padding: 5px 15px;
            border-left: 3px solid var(--c-mint);
        }

        /* --- NAVIGATION (DOCK STYLE) --- */
        .nav-dock {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(15px);
            border: 1px solid var(--c-border);
            border-radius: 24px;
            padding: 10px 20px;
            display: flex;
            gap: 15px;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
        }

        .nav-item {
            position: relative;
            padding: 10px 15px;
            color: #888;
            cursor: pointer;
            font-family: var(--font-tech);
            font-size: 0.9rem;
            text-transform: uppercase;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nav-item:hover, .nav-item.active {
            color: #fff;
            text-shadow: 0 0 10px var(--c-mint);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            width: 4px; height: 4px;
            background: var(--c-mint);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--c-mint);
        }

        /* --- SECTIONS --- */
        .content-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
            padding-top: 50px;
        }

        .content-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .section-title {
            font-family: var(--font-tech);
            font-size: 2.5rem;
            color: var(--c-lilac);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title span { color: var(--c-mint); font-size: 1.5rem; }

        /* --- GLASS CARDS --- */
        .card {
            background: var(--c-glass);
            border: 1px solid var(--c-border);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            transition: border-color 0.3s;
        }

        .card:hover {
            border-color: var(--c-lilac);
        }

        .card::before {
            content: '';
            position: absolute; top: 0; left: 0; width: 2px; height: 100%;
            background: linear-gradient(to bottom, var(--c-mint), var(--c-lilac));
        }

        /* --- PROMPTS MODULES --- */
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-family: var(--font-tech);
            color: var(--c-mint);
        }

        .module-desc {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .code-snippet {
            display: none; /* –°–∫—Ä—ã—Ç–æ, –∫–æ–ø–∏—Ä—É–µ–º –∏–∑ value */
        }

        .btn-copy {
            background: transparent;
            border: 1px solid var(--c-mint);
            color: var(--c-mint);
            padding: 10px 20px;
            font-family: var(--font-code);
            text-transform: uppercase;
            cursor: pointer;
            width: 100%;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
            font-weight: bold;
        }

        .btn-copy:hover {
            background: var(--c-mint);
            color: #000;
            box-shadow: 0 0 20px rgba(0, 255, 157, 0.4);
        }

        /* --- DOWNLOAD BUTTON --- */
        .dl-container {
            text-align: center;
            margin-top: 50px;
        }

        .mega-button {
            display: inline-block;
            background: linear-gradient(90deg, var(--c-red), var(--c-lilac));
            padding: 20px 60px;
            font-family: var(--font-tech);
            font-size: 1.5rem;
            color: #fff;
            text-decoration: none;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
            transition: transform 0.2s, filter 0.2s;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
            position: relative;
        }

        .mega-button:hover {
            transform: scale(1.05);
            filter: hue-rotate(20deg);
        }

        .mega-button::after {
            content: 'V1.7 STABLE';
            position: absolute;
            bottom: -25px;
            right: 0;
            font-family: var(--font-code);
            font-size: 0.8rem;
            color: var(--c-red);
        }

        /* --- ACCORDION (GUIDES) --- */
        .guide-item {
            background: rgba(255,255,255,0.03);
            margin-bottom: 10px;
            border-radius: 8px;
            overflow: hidden;
        }
        .guide-head {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
        }
        .guide-head:hover { background: rgba(255,255,255,0.05); color: var(--c-mint); }
        .guide-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            background: rgba(0,0,0,0.2);
            padding: 0 20px;
        }
        .guide-body.open { padding: 20px; max-height: 1000px; }

        /* --- GAME OVERLAY --- */
        #game-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 2000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #game-canvas {
            border: 2px solid var(--c-mint);
            background: radial-gradient(circle, #1a1a1a 0%, #000 100%);
            max-width: 100%;
        }

        .game-ui {
            font-family: var(--font-tech);
            color: var(--c-mint);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        #close-game {
            margin-top: 20px;
            color: #555;
            cursor: pointer;
            font-family: var(--font-code);
        }

        /* --- EASTER EGG TRIGGER --- */
        .footer-egg {
            text-align: center;
            margin-top: 80px;
            padding: 20px;
            opacity: 0.3;
            transition: opacity 0.3s;
        }
        .footer-egg:hover { opacity: 1; }
        .egg-icon { font-size: 24px; cursor: pointer; animation: float 3s infinite ease-in-out; display: inline-block; }

        /* --- ANIMATIONS --- */
        @keyframes glitch-anim {
            0% { clip: rect(42px, 9999px, 44px, 0); transform: skew(0.95deg); }
            5% { clip: rect(12px, 9999px, 5px, 0); transform: skew(0.05deg); }
            10% { clip: rect(80px, 9999px, 20px, 0); transform: skew(0.5deg); }
            100% { clip: rect(10px, 9999px, 90px, 0); transform: skew(0); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* --- MOBILE TWEAKS --- */
        @media (max-width: 768px) {
            h1.glitch { font-size: 3rem; }
            .nav-dock { width: 90%; justify-content: space-around; padding: 10px; bottom: 15px; }
            .nav-text { display: none; }
            .nav-icon { font-size: 1.4rem; display: block; }
            .module-grid { grid-template-columns: 1fr; }
        }

        @media (min-width: 769px) {
            .nav-icon { display: none; }
        }

        /* Toast Notification */
        .toast {
            position: fixed; top: 20px; right: 20px;
            background: var(--c-bg);
            border: 1px solid var(--c-mint);
            color: var(--c-mint);
            padding: 15px 25px;
            font-family: var(--font-code);
            z-index: 3000;
            transform: translateX(200%);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .toast.show { transform: translateX(0); }

    </style>
</head>
<body>

    <!-- CRT Overlay -->
    <div class="scanlines"></div>
    <canvas id="digital-rain"></canvas>

    <!-- Navigation -->
    <nav class="nav-dock">
        <div class="nav-item active" onclick="switchTab('home')">
            <span class="nav-text">System</span>
            <span class="nav-icon">üè†</span>
        </div>
        <div class="nav-item" onclick="switchTab('download')">
            <span class="nav-text">Download</span>
            <span class="nav-icon">üíæ</span>
        </div>
        <div class="nav-item" onclick="switchTab('guides')">
            <span class="nav-text">Database</span>
            <span class="nav-icon">üìö</span>
        </div>
        <div class="nav-item" onclick="switchTab('prompts')">
            <span class="nav-text">Modules</span>
            <span class="nav-icon">üß©</span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="app-container">

        <!-- HOME SECTION -->
        <section id="home" class="content-section active hero">
            <div class="glitch-wrapper">
                <h1 class="glitch" data-text="–Ø–ë–õ–û–ß–ù–´–ô">–Ø–ë–õ–û–ß–ù–´–ô</h1>
            </div>
            <div class="hero-subtitle">
                < PRESET V1.7 :: RENETTE_CORE_INITIATED >
            </div>
            <p style="max-width: 600px; margin-top: 30px; line-height: 1.6; color: #ccc;">
                –ú–æ–¥—É–ª—å–Ω—ã–π –ø—Ä–µ—Å–µ—Ç —Å —è–¥—Ä–æ–º —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –¥—É—Ö–∞.
                –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è Claude, Gemini –∏ DeepSeek.
                <br>–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –¶–∏—Ñ—Ä–æ–≤–∞—è –¥—É—à–∞.
            </p>
        </section>

        <!-- DOWNLOAD SECTION -->
        <section id="download" class="content-section">
            <h2 class="section-title"><span>//</span> –ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–û–í</h2>
            <div class="card">
                <h3 style="color: var(--c-mint); font-family: var(--font-tech);">–ü–û–°–õ–ï–î–ù–ò–ô –ë–ò–õ–î</h3>
                <p>–í–µ—Ä—Å–∏—è 1.7. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Å (60kb). –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –†–µ–Ω–µ—Ç—Ç.</p>
                <div class="dl-container">
                    <a href="%F0%9F%8D%8E%D0%AF%D0%B1%D0%BB%D0%BE%D1%87%D0%BD%D1%8B%D0%B9%20V1.7.json" class="mega-button" download>
                        –°–ö–ê–ß–ê–¢–¨ .JSON
                    </a>
                </div>
            </div>

            <div class="module-grid">
                <div class="card">
                    <h4>Changelog v1.7</h4>
                    <ul style="font-size: 0.85rem; padding-left: 20px; color: #aaa;">
                        <li>–í–µ—Å —É–º–µ–Ω—å—à–µ–Ω –¥–æ <60 –ö–ë</li>
                        <li>–ù–æ–≤—ã–µ "–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Ñ–æ–∫—É—Å—ã"</li>
                        <li>–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Å—Ç–∏–ª–∏ (–õ—é –ß–∂—ç–Ω—å—é–Ω—å –∏ –¥—Ä.)</li>
                        <li>–£–ª—É—á—à–µ–Ω Jailbreak</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</h4>
                    <div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;">
                        <span style="background:rgba(255,255,255,0.1); padding:5px 10px; font-size:0.8rem;">Claude Sonnet 3.5+</span>
                        <span style="background:rgba(255,255,255,0.1); padding:5px 10px; font-size:0.8rem;">Gemini 1.5 Pro</span>
                        <span style="background:rgba(255,255,255,0.1); padding:5px 10px; font-size:0.8rem;">GPT-4o</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- GUIDES SECTION -->
        <section id="guides" class="content-section">
            <h2 class="section-title"><span>//</span> –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô</h2>

            <div class="guide-item">
                <div class="guide-head" onclick="toggleGuide(this)">01. –£–°–¢–ê–ù–û–í–ö–ê <span style="color:var(--c-mint)">+</span></div>
                <div class="guide-body">
                    <p>1. –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª.<br>2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ SillyTavern.<br>3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RegEx —Å–∫—Ä–∏–ø—Ç—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã.<br>4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Prompt Order –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ 'Jailbreak' –≤–Ω–∏–∑.</p>
                </div>
            </div>

            <div class="guide-item">
                <div class="guide-head" onclick="toggleGuide(this)">02. –ù–ê–°–¢–†–û–ô–ö–ê –û–û–° <span style="color:var(--c-mint)">+</span></div>
                <div class="guide-body">
                    <p>–¢–æ–≥–ª <b>‚úßüçé–†–µ–Ω–µ—Ç—Ç –û–û–°</b> –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç –ª–∏—Ü–∞ –†–µ–Ω–µ—Ç—Ç. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω —á–∏—Å—Ç—ã–π –†–ü –±–µ–∑ "–¥—É—Ö–∞ —Å–∏—Å—Ç–µ–º—ã", –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <b>‚úß‚öôÔ∏è–û—Ç–∫–ª—é—á–∏—Ç—å –û–û–°</b>.</p>
                </div>
            </div>

            <div class="guide-item">
                <div class="guide-head" onclick="toggleGuide(this)">03. HTML & –°–¢–ò–õ–ò <span style="color:var(--c-mint)">+</span></div>
                <div class="guide-body">
                    <p>–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "—Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö" —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫—Ä–∞—Å–∏–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤, –≤–∫–ª—é—á–∏—Ç–µ –º–æ–¥—É–ª—å HTML –≤ –ø—Ä–µ—Å–µ—Ç–µ. –†–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ –Ω–∞ Claude Sonnet.</p>
                </div>
            </div>
        </section>

        <!-- PROMPTS SECTION -->
        <section id="prompts" class="content-section">
            <h2 class="section-title"><span>//</span> –ú–û–î–£–õ–ò –ö–û–î–ê</h2>
            <p style="margin-bottom: 30px; color: #888;">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥—É–ª—å, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç (–¢–æ–≥–ª) –≤ SillyTavern.</p>

            <div class="module-grid">
                <!-- Module 1 -->
                <div class="card">
                    <div class="module-header">
                        <span>OOC: RENETTE</span>
                        <span style="font-size:0.8em; border:1px solid var(--c-mint); padding:2px 6px;">CORE</span>
                    </div>
                    <div class="module-desc">–ë–∞–∑–æ–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å –†–µ–Ω–µ—Ç—Ç. –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è, –¥–∞–µ—Ç —Å–æ–≤–µ—Ç—ã, –∏–Ω–æ–≥–¥–∞ –ø–æ–¥—à—É—á–∏–≤–∞–µ—Ç.</div>
                    <textarea class="code-snippet" id="p1">[OOC: System Renette active. Monitoring narrative integrity...]</textarea>
                    <button class="btn-copy" onclick="copyToClipboard('p1')">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î</button>
                </div>

                <!-- Module 2 -->
                <div class="card">
                    <div class="module-header">
                        <span>STYLE: IMMERSION</span>
                        <span style="color:var(--c-lilac)">NARRATIVE</span>
                    </div>
                    <div class="module-desc">–ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ. –ò–ò –Ω–µ –ø–∏—à–µ—Ç –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ —á—É–≤—Å—Ç–≤–∞—Ö –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ.</div>
                    <textarea class="code-snippet" id="p2">[Narrative Mode: Immersive. Do not act as User.]</textarea>
                    <button class="btn-copy" onclick="copyToClipboard('p2')">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î</button>
                </div>

                <!-- Module 3 -->
                <div class="card">
                    <div class="module-header">
                        <span>BAN: RUSSIAN</span>
                        <span style="color:var(--c-red)">SECURITY</span>
                    </div>
                    <div class="module-desc">–ù–∞–±–æ—Ä –∞–Ω—Ç–∏-–∫–ª–∏—à–µ –∏ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.</div>
                    <textarea class="code-snippet" id="p3">Avoid: "member", "fold", "shiver". Use descriptive Russian lexicon.</textarea>
                    <button class="btn-copy" onclick="copyToClipboard('p3')">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î</button>
                </div>

                <!-- Module 4 -->
                <div class="card">
                    <div class="module-header">
                        <span>EXTRA: HTML CHAT</span>
                        <span style="color:var(--c-mint)">VISUAL</span>
                    </div>
                    <div class="module-desc">–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –≤ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞.</div>
                    <textarea class="code-snippet" id="p4">Wrap SMS in <div class="message">...</div> style.</textarea>
                    <button class="btn-copy" onclick="copyToClipboard('p4')">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ö–û–î</button>
                </div>
            </div>
        </section>

        <!-- FOOTER / EASTER EGG -->
        <div class="footer-egg">
            <span class="egg-icon" onclick="startGame()">üçé</span>
            <div style="font-size: 0.7rem; margin-top: 10px; font-family: var(--font-code);">
                SYSTEM STATUS: STABLE<br>
                DESIGNED BY KYKAAJ
            </div>
        </div>

    </div>

    <!-- TOAST -->
    <div id="toast" class="toast">DATA COPIED TO BUFFER</div>

    <!-- GAME OVERLAY -->
    <div id="game-overlay">
        <div class="game-ui">SCORE: <span id="score">0</span> | TARGET: 10</div>
        <canvas id="game-canvas" width="320" height="480"></canvas>
        <div id="close-game" onclick="closeGame()">[ ABORT PROTOCOL ]</div>
    </div>

    <script>
        // --- TABS LOGIC ---
        function switchTab(tabId) {
            // Hide all
            document.querySelectorAll('.content-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));

            // Show target
            document.getElementById(tabId).classList.add('active');

            // Update nav state
            // Find index to highlight
            const index = ['home', 'download', 'guides', 'prompts'].indexOf(tabId);
            document.querySelectorAll('.nav-item')[index].classList.add('active');
        }

        // --- ACCORDION LOGIC ---
        function toggleGuide(header) {
            const body = header.nextElementSibling;
            const span = header.querySelector('span');

            if (body.classList.contains('open')) {
                body.classList.remove('open');
                span.innerText = '+';
                header.style.color = '#eee';
            } else {
                body.classList.add('open');
                span.innerText = '-';
                header.style.color = 'var(--c-mint)';
            }
        }

        // --- COPY LOGIC ---
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).value;
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            });
        }

        // --- BACKGROUND MATRIX/LEAVES ANIMATION ---
        const canvas = document.getElementById('digital-rain');
        const ctx = canvas.getContext('2d');
        let width, height;

        let drops = [];
        const chars = "10APPLERENETTE";

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Drop {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.speed = Math.random() * 2 + 0.5;
                this.text = chars[Math.floor(Math.random() * chars.length)];
                this.color = Math.random() > 0.8 ? '#ff2a6d' : '#00ff9d';
                this.size = Math.random() * 14 + 10;
            }
            update() {
                this.y += this.speed;
                if (this.y > height) {
                    this.y = -20;
                    this.x = Math.random() * width;
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.globalAlpha = 0.3;
                ctx.font = this.size + "px 'JetBrains Mono'";
                ctx.fillText(this.text, this.x, this.y);
            }
        }

        for(let i=0; i<50; i++) drops.push(new Drop());

        function animate() {
            ctx.clearRect(0, 0, width, height);
            drops.forEach(d => { d.update(); d.draw(); });
            requestAnimationFrame(animate);
        }
        animate();

        // --- MINI GAME: RENETTE'S PROTOCOL ---
        // Catch green apples, avoid glitches
        const gameOverlay = document.getElementById('game-overlay');
        const gCanvas = document.getElementById('game-canvas');
        const gCtx = gCanvas.getContext('2d');
        let gameLoop;
        let score = 0;
        let playerX = 160;
        let gameObjects = [];
        let isGameRunning = false;

        function startGame() {
            gameOverlay.style.display = 'flex';
            score = 0;
            gameObjects = [];
            document.getElementById('score').innerText = score;
            isGameRunning = true;
            loop();

            // Mobile touch controls
            gCanvas.addEventListener('touchmove', (e) => {
                const rect = gCanvas.getBoundingClientRect();
                playerX = e.touches[0].clientX - rect.left;
            });
            // PC Mouse controls
            gCanvas.addEventListener('mousemove', (e) => {
                const rect = gCanvas.getBoundingClientRect();
                playerX = e.clientX - rect.left;
            });
        }

        function closeGame() {
            isGameRunning = false;
            gameOverlay.style.display = 'none';
            cancelAnimationFrame(gameLoop);
        }

        function loop() {
            if (!isGameRunning) return;

            // Clear
            gCtx.fillStyle = 'rgba(0, 0, 0, 0.2)'; // Trails effect
            gCtx.fillRect(0, 0, 320, 480);

            // Spawn objects
            if (Math.random() < 0.05) {
                gameObjects.push({
                    x: Math.random() * 300,
                    y: -20,
                    type: Math.random() > 0.3 ? 'apple' : 'glitch',
                    speed: Math.random() * 3 + 2
                });
            }

            // Draw Player
            gCtx.fillStyle = '#00ff9d';
            gCtx.fillRect(playerX - 20, 440, 40, 10); // Paddle

            // Update Objects
            for (let i = 0; i < gameObjects.length; i++) {
                let obj = gameObjects[i];
                obj.y += obj.speed;

                // Draw
                if (obj.type === 'apple') {
                    gCtx.font = "20px Arial";
                    gCtx.fillText("üçé", obj.x, obj.y);
                } else {
                    gCtx.fillStyle = '#ff2a6d';
                    gCtx.font = "20px Courier";
                    gCtx.fillText("ERR", obj.x, obj.y);
                }

                // Collision
                if (obj.y > 430 && obj.y < 450 && obj.x > playerX - 25 && obj.x < playerX + 25) {
                    if (obj.type === 'apple') {
                        score++;
                        document.getElementById('score').innerText = score;
                        if(score >= 10) {
                            alert("ACCESS GRANTED: RENETTE LOVES YOU üíö");
                            closeGame();
                        }
                    } else {
                        score = Math.max(0, score - 2); // Penalty
                        gCanvas.style.borderColor = 'red';
                        setTimeout(()=>gCanvas.style.borderColor='#00ff9d', 200);
                        document.getElementById('score').innerText = score;
                    }
                    gameObjects.splice(i, 1);
                    i--;
                }

                // Remove out of bounds
                if (obj.y > 480) {
                    gameObjects.splice(i, 1);
                    i--;
                }
            }

            gameLoop = requestAnimationFrame(loop);
        }

    </script>
</body>
</html>
